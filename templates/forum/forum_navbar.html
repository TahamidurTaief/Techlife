{% load static %}

<nav class="sticky top-0 z-50 w-full bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <!-- Sidebar Toggle (Mobile) -->
            <button id="toggleSidebar" class="md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors">
                <svg id="openIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12" />
                    <line x1="3" y1="6" x2="21" y2="6" />
                    <line x1="3" y1="18" x2="21" y2="18" />
                </svg>

                <svg id="closeIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden">
                    <line x1="18" y1="6" x2="6" y2="18" />
                    <line x1="6" y1="6" x2="18" y2="18" />
                </svg>
            </button>

            <!-- Logo -->
            <div class="flex items-center flex-shrink-0">
                <a href="{% url 'homepage' %}" class="block">
                    <img src="{% static 'image/logo-front.png' %}" alt="Techlife-bd" class="h-7 sm:h-8 w-auto" />
                </a>
            </div>

            <!-- Spacer for centering on mobile when sidebar toggle is present -->
            <div class="flex-1 md:hidden"></div>

            <!-- Right Side Actions -->
            <div class="flex items-center gap-3 sm:gap-4 lg:gap-5">
                <!-- Notifications -->
                <!-- <div class=" relative flex items-center gap-1 cursor-pointer hover:text-blue-600 transition group">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="sm:w-6 sm:h-6 text-gray-400 group-hover:text-blue-600 transition">
                        <path d="M10.268 21a2 2 0 0 0 3.464 0" />
                        <path d="M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326" />
                    </svg>
                    <span class="text-xs sm:text-sm font-medium text-gray-600 group-hover:text-blue-600">0</span>
                </div> -->

                <!-- Stars -->
                <!-- <div class="hidden relative flex items-center gap-1 cursor-pointer hover:text-yellow-500 transition group">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="sm:w-6 sm:h-6 text-gray-400 group-hover:text-yellow-500 transition">
                        <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z" />
                    </svg>
                    <span class="text-xs sm:text-sm font-medium text-gray-600 group-hover:text-yellow-500">0</span>
                </div> -->

                <!-- User / Login -->
                {% if user.is_authenticated %}
                <div class="relative group">
                    <a href="{% url 'user_dashboard' %}" class="block">
                        <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gray-100 border-2 border-gray-300 overflow-hidden hover:border-blue-500 transition-all">
                            <img class="w-full h-full object-cover" src="{{ user.profile_picture.url }}" alt="{{ user.first_name }}" />
                        </div>
                    </a>
                </div>
                {% else %}
                <a href="{% url 'login' %}" class="px-3 sm:px-5 py-1.5 sm:py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition text-xs sm:text-sm font-medium whitespace-nowrap">
                    Login
                </a> {% endif %}
            </div>
        </div>
    </div>
</nav>

<script>
    // Sidebar toggle functionality
    const toggleBtn = document.getElementById('toggleSidebar');
    const openIcon = document.getElementById('openIcon');
    const closeIcon = document.getElementById('closeIcon');
    const sidebar = document.getElementById('sidebar');

    if (toggleBtn && sidebar) {
        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
            openIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        });
    }
</script>